[gd_scene format=3 uid="uid://dbg0x6mkt7vrq"]

[ext_resource type="PackedScene" uid="uid://psyddhrxhb3x" path="res://player.tscn" id="1_ia1lp"]
[ext_resource type="Script" uid="uid://dvfqv64w2qgi1" path="res://test_scene.gd" id="1_sasra"]
[ext_resource type="PackedScene" uid="uid://doubgh2jo7coc" path="res://mob.tscn" id="2_sasra"]
[ext_resource type="ArrayMesh" uid="uid://c0e8e67q1r66e" path="res://Assets/bisturi.obj" id="4_2nij2"]
[ext_resource type="Script" uid="uid://duk4qermpym17" path="res://scalpel.gd" id="5_7cbxl"]

[sub_resource type="SystemFont" id="SystemFont_ia1lp"]

[sub_resource type="LabelSettings" id="LabelSettings_sasra"]
font = SubResource("SystemFont_ia1lp")
font_size = 50
font_color = Color(1, 0, 0, 1)

[sub_resource type="SystemFont" id="SystemFont_sasra"]

[sub_resource type="LabelSettings" id="LabelSettings_coq8p"]
font = SubResource("SystemFont_sasra")
font_size = 30
font_color = Color(1, 0, 0, 1)

[sub_resource type="Sky" id="Sky_coq8p"]

[sub_resource type="Environment" id="Environment_2nij2"]
background_mode = 2
sky = SubResource("Sky_coq8p")

[sub_resource type="NavigationMesh" id="NavigationMesh_ia1lp"]
vertices = PackedVector3Array(-2.8000002, 0.35000002, -2.8000002, -2.8000002, 0.35000002, 2.6999998, 2.6999998, 0.35000002, 2.6999998, 2.6999998, 0.35000002, -2.8000002)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
cell_height = 0.2
border_size = 2.0
agent_height = 2.0

[sub_resource type="PlaneMesh" id="PlaneMesh_7cbxl"]

[sub_resource type="BoxShape3D" id="BoxShape3D_8pr8v"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_8pr8v"]
height = 1.6662598
radius = 0.07421875

[node name="TestScene" type="Node3D" unique_id=2033671578]
script = ExtResource("1_sasra")

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=667232596]

[node name="InteractionPrompt" type="Label" parent="CanvasLayer" unique_id=56152820]
offset_left = 367.0
offset_top = 292.0
offset_right = 757.0
offset_bottom = 385.0
label_settings = SubResource("LabelSettings_sasra")

[node name="Time" type="Label" parent="CanvasLayer" unique_id=244893554]
offset_right = 189.0
offset_bottom = 56.0
label_settings = SubResource("LabelSettings_coq8p")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1056774950]
environment = SubResource("Environment_2nij2")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="." unique_id=1887551511]
navigation_mesh = SubResource("NavigationMesh_ia1lp")

[node name="Ground" type="MeshInstance3D" parent="NavigationRegion3D" unique_id=1068631181]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0)
mesh = SubResource("PlaneMesh_7cbxl")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Ground" unique_id=1314071440]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Ground/StaticBody3D" unique_id=472083912]
transform = Transform3D(3, 0, 0, 0, 0.1, 0, 0, 0, 3, 0, -0.1, 0)
shape = SubResource("BoxShape3D_8pr8v")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=1002729656]
transform = Transform3D(0.83867055, 0.35008723, -0.4172177, 0, 0.76604444, 0.6427876, 0.54463905, -0.539087, 0.6424589, 0, 10, 0)
shadow_enabled = true

[node name="Player" parent="." unique_id=2147031295 instance=ExtResource("1_ia1lp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)

[node name="Mob1" parent="." unique_id=524789304 node_paths=PackedStringArray("patrol_points") instance=ExtResource("2_sasra")]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 2, 1, 2)
runSpeed = 4.0
patrol_points = [NodePath("../Marker3D"), NodePath("../Marker3D2"), NodePath("../Marker3D3")]

[node name="Mob2" parent="." unique_id=406591318 node_paths=PackedStringArray("patrol_points") instance=ExtResource("2_sasra")]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, -2.1679568, 1.2672925, -0.5685091)
runSpeed = 4.0
patrol_points = [NodePath("../Marker3D"), NodePath("../Marker3D2"), NodePath("../Marker3D3")]

[node name="Scalpel" type="StaticBody3D" parent="." unique_id=1392305995]
script = ExtResource("5_7cbxl")

[node name="ScalpelMesh" type="MeshInstance3D" parent="Scalpel" unique_id=892527241]
transform = Transform3D(0.5, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 2.4432218, 0.40060842, 0.8154461)
mesh = ExtResource("4_2nij2")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Scalpel" unique_id=1871037374]
transform = Transform3D(-0.49999648, 4.37111e-08, 2.1855396e-08, -8.742215e-09, 3.8213444e-16, -0.19999586, -1.748443e-08, -0.19999726, 3.821319e-16, 2.4398847, 0.4062084, 0.8031098)
shape = SubResource("CylinderShape3D_8pr8v")

[node name="Marker3D" type="Marker3D" parent="." unique_id=539881679]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.32, 1, 1.2)

[node name="Marker3D2" type="Marker3D" parent="." unique_id=703300199]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.815, 1, -1.075)

[node name="Marker3D3" type="Marker3D" parent="." unique_id=1375986344]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.545, 1, 1.405)

[node name="Marker3D4" type="Marker3D" parent="." unique_id=720401828]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.33, 1, -1.06)

[node name="Marker3D5" type="Marker3D" parent="." unique_id=870313536]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.56, 1, 2.99)

[node name="Marker3D6" type="Marker3D" parent="." unique_id=625669125]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.02, 1, 0.245)
